<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>
<a th:href="@{/add}">添加</a>
    <table id="dataTable" border="1" cellpadding="0" cellspacing="0" style="text-align:center">
        <thead>
            <tr>
                <th colspan="5">员工列表</th>
            </tr>
            <tr>
                <th>id</th>
                <th>lastname</th>
                <th>email</th>
                <th>gender</th>
                <th>操作</th>
            </tr>
        </thead>

        <tbody>
            <tr th:each="employee : ${employeeList}">
                <td th:text="${employee.id}"></td>
                <td th:text="${employee.lastName}">lastname</td>
                <td th:text="${employee.email}">email</td>
                <td th:text="${employee.gender}">gender</td>
                <td>
                    <a onclick="convertMethod(this,event)" th:href="@{'/delete/'+${employee.id}}" >删除</a>
                    <a th:href="@{'/update/'+${employee.id}}">修改</a>
                </td>
            </tr>
        </tbody>
    </table>

    <!--删除时，使用form表单删除-->
    <form method="post" id="deleteForm">
        <input type="hidden" name="_method" value="delete"/>
    </form>

<script type="text/javascript" >
    function convertMethod(anchorElement, event) {

        // 获取超链接原本要访问的目标地址
        var targetURL = anchorElement.href;

        // 获取表单对象
        var formEle = document.getElementById("deleteForm");

        // 把超链接原本要访问的地址设置给表单的 action 属性
        formEle.action = targetURL;

        // 提交表单
        formEle.submit();

        // 取消控件的默认行为：让超链接不会跳转
        event.preventDefault();
    }
</script>

</body>
</html>